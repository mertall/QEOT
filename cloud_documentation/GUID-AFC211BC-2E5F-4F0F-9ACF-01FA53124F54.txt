VMware DocsMyLibrarytimesMyLibraryMyLibraryclose-lineIn the Administration Console, you create customization assignments to assign settings that customize your end users' environments. One type of customization is URL redirection. You can define URL handling rules where the Horizon Client redirects URLs from the end user's client machine to a desktop or application provided by your Horizon Cloud environment. A URL redirection configuration gives the Horizon Client information about which URLs should be handled by one of the end user's assigned Horizon Cloud desktops or applications instead of being opened by the user's local system. Horizon ClientHorizon CloudHorizon ClientHorizon CloudAbout this taskNote:The Horizon Cloud Administration Console provides a user interface for you to configure client-to-agent URL redirection. To configure agent-to-client URL redirection, you must use group policy settings as described in Configuring Agent-to-Client Redirection. The steps below are for configuring client-to-agent URL redirection. Horizon CloudConfiguring Agent-to-Client RedirectionThe Horizon Client fetches an end user's assigned URL redirection rules when the user logs in to the Horizon Client on their local device. Then when that user attempts to open a link in a local document or file and the link matches a URL pattern rule in the assigned settings, Horizon Client determines the appropriate handler to use. The handlers are specified opens the user's assigned desktop or application to handle the URL link, as determined by the appropriate handler you specified in the URL redirection configuration. If the URL redirection handler specifies to use a desktop, the desktop's default application for the link's specified protocol processes the URL. If the handler specifies to use an application, the user's assigned application processes the URL. If the user is not entitled to the desktop or application specified in the handler, Horizon Client displays a message to the user, unless you have specified Strict Match as No for the handler. Horizon ClientHorizon ClientHorizon ClientHorizon ClientStrict MatchNoIn the scenario where Strict Match is set to No, the system locates a resource to use based on this fall-back behavior: Strict MatchNoThe system searches the user's assignments using a substring match of the target resource specified for the handler. If the system finds an assignment that matches the substring, that assigned desktop or application is used to open the link. The system searches the user's assignments using a substring match of the target resource specified for the handler. If the system finds an assignment that matches the substring, that assigned desktop or application is used to open the link. When the handler's Resource Type is set to Application, if the search for a substring match fails, the system searches the user's application assignments for an assigned application that can handle the protocol specified in the handler's Scheme field. Note: This step in the fall-back behavior only applies for applications. If the Resource Type is set to Desktops, this step is skipped. When the handler's Resource Type is set to Application, if the search for a substring match fails, the system searches the user's application assignments for an assigned application that can handle the protocol specified in the handler's Scheme field. Resource TypeApplicationSchemeNote:This step in the fall-back behavior only applies for applications. If the Resource Type is set to Desktops, this step is skipped. Resource TypeDesktopsIf the system cannot locate a resource in the user's assignments that can handle the protocol, Horizon Client displays a message to the user. If the system cannot locate a resource in the user's assignments that can handle the protocol, Horizon Client displays a message to the user. Horizon ClientImportant:The user's Horizon Client must be installed with the URL_FILTERING_ENABLED=1 option to give the client the capability to handle the URL redirection feature. For details, see the Installing Horizon Client for Windows with the URL Content Redirection Feature topic in the VMware Horizon 7 documentation. Horizon ClientURL_FILTERING_ENABLED=1Installing Horizon Client for Windows with the URL Content Redirection FeatureWhen your environment is integrated with VMware Identity Managerâ„¢, the user must have opened at least one application using Horizon Client before the URL redirection feature can work for that user. By opening at least one application using the Open in Client option, the user's assigned URL redirection configuration is loaded into the client device's registry where Horizon Client can get the configuration values. Horizon ClientOpen in ClientHorizon ClientA customization assignment can be turned inactive by using the Take Offline button on the Assignments page. A user can be assigned more than one active customization for URL redirection settings. To avoid potential conflicts between rules from different active configurations, when the user logs in to Horizon Client, the system: Take OfflineHorizon ClientSets only one configuration in effect, even when that user has more than one active configuration assigned. Sets only one configuration in effect, even when that user has more than one active configuration assigned. Uses the URL redirection configuration that is alphabetically first as the configuration in effect for the user. Uses the URL redirection configuration that is alphabetically first as the configuration in effect for the user. PrerequisitesIn the Administration Console, you can create a customization for URL redirection even before you have any desktops or remote applications in your Horizon Cloud inventory. However, before the URL redirection flow works for those end users specified in the customization, the following prerequisites must be met: Horizon CloudWhen the master image VM was created using the Import Image workflow, you set the Horizon agent feature named URL Redirection to Yes. When the master image VM was created using the Import Image workflow, you set the Horizon agent feature named URL Redirection to Yes. URL RedirectionYesYour Horizon Cloud inventory has the desktops and remote applications that you intend to use in the configuration. Your Horizon Cloud inventory has the desktops and remote applications that you intend to use in the configuration. Horizon CloudIf the customization has Strict Match set to Yes, assignments must exist that entitle the specific desktops and remote applications to the end users specified in the customization. If the customization has Strict Match set to Yes, assignments must exist that entitle the specific desktops and remote applications to the end users specified in the customization. Strict MatchYesProcedureOn the Assignments page, click New. On the Assignments page, click New. NewIn the New Assignment window, click the Customizations icon. The New Customization Assignment wizard opens to its first step. In the New Assignment window, click the Customizations icon. CustomizationsThe New Customization Assignment wizard opens to its first step. In the Definition step, configure the general settings and then click Next. Option Description Assignment Name Enter a friendly name for this assignment. Location Select the location that has the node you want to use. Node Select the node. This node is the one from which the session desktops and remote applications are served. Description Optionally enter a description for the configuration. In the Definition step, configure the general settings and then click Next. NextOptionOptionDescriptionDescriptionAssignment NameAssignment NameEnter a friendly name for this assignment.Enter a friendly name for this assignment.LocationLocationSelect the location that has the node you want to use.Select the location that has the node you want to use.NodeNodeSelect the node. This node is the one from which the session desktops and remote applications are served.Select the node. This node is the one from which the session desktops and remote applications are served.DescriptionDescriptionOptionally enter a description for the configuration.Optionally enter a description for the configuration.In the Configuration step's Source section, create a list of URL patterns that this configuration will tell Horizon Client to intercept on the client system. In the URL Pattern field, type a string that specifies the URL matching pattern to be intercepted. You can use wildcards to specify a URL pattern that matches multiple URLs. For example: If you type google.*, all URLs that include the text google are intercepted. If you type .* (period asterisk), all URLs are intercepted for all protocol schemes (matches all). If you type mailto://.*.example.com all URLs that contain the text mailto://.*.example.com are intercepted. Important: You should always consider that the URLs you enter in the URL Pattern field are case-sensitive, including the host name part like docs.vmware.com. The URL redirection feature behavior is sensitive to the case of the URL patterns you enter here. As an example, if you enter DOCS.VMWARE.COM/* as the pattern and the end user clicks a link https://docs.vmware.com, the URL redirection does not happen, because the host name exists actually in lowercase. For host names, enter them as lowercase. If you need to match subdirectories in the URL path, use a wildcard or enter those URLs as the path actually exists, such as docs.vmware.com/en/VMware-Horizon-Cloud-Service/* Press Enter to add your specified URL pattern to the list. Repeat the steps of typing in a pattern and pressing Enter to add more URL matching patterns. In the Configuration step's Source section, create a list of URL patterns that this configuration will tell Horizon Client to intercept on the client system. Horizon ClientIn the URL Pattern field, type a string that specifies the URL matching pattern to be intercepted. You can use wildcards to specify a URL pattern that matches multiple URLs. For example: If you type google.*, all URLs that include the text google are intercepted. If you type .* (period asterisk), all URLs are intercepted for all protocol schemes (matches all). If you type mailto://.*.example.com all URLs that contain the text mailto://.*.example.com are intercepted. Important: You should always consider that the URLs you enter in the URL Pattern field are case-sensitive, including the host name part like docs.vmware.com. The URL redirection feature behavior is sensitive to the case of the URL patterns you enter here. As an example, if you enter DOCS.VMWARE.COM/* as the pattern and the end user clicks a link https://docs.vmware.com, the URL redirection does not happen, because the host name exists actually in lowercase. For host names, enter them as lowercase. If you need to match subdirectories in the URL path, use a wildcard or enter those URLs as the path actually exists, such as docs.vmware.com/en/VMware-Horizon-Cloud-Service/* In the URL Pattern field, type a string that specifies the URL matching pattern to be intercepted. URL PatternYou can use wildcards to specify a URL pattern that matches multiple URLs. For example: If you type google.*, all URLs that include the text google are intercepted. If you type google.*, all URLs that include the text google are intercepted. google.*googleIf you type .* (period asterisk), all URLs are intercepted for all protocol schemes (matches all). If you type .* (period asterisk), all URLs are intercepted for all protocol schemes (matches all). If you type mailto://.*.example.com all URLs that contain the text mailto://.*.example.com are intercepted. If you type mailto://.*.example.com all URLs that contain the text mailto://.*.example.com are intercepted. mailto://.*.example.commailto://.*.example.comImportant:You should always consider that the URLs you enter in the URL Pattern field are case-sensitive, including the host name part like docs.vmware.com. The URL redirection feature behavior is sensitive to the case of the URL patterns you enter here. As an example, if you enter DOCS.VMWARE.COM/* as the pattern and the end user clicks a link https://docs.vmware.com, the URL redirection does not happen, because the host name exists actually in lowercase. For host names, enter them as lowercase. If you need to match subdirectories in the URL path, use a wildcard or enter those URLs as the path actually exists, such as docs.vmware.com/en/VMware-Horizon-Cloud-Service/* URL Patterndocs.vmware.comDOCS.VMWARE.COM/*https://docs.vmware.comdocs.vmware.com/en/VMware-Horizon-Cloud-Service/*Press Enter to add your specified URL pattern to the list. Press Enter to add your specified URL pattern to the list. Repeat the steps of typing in a pattern and pressing Enter to add more URL matching patterns. Repeat the steps of typing in a pattern and pressing Enter to add more URL matching patterns. In the Rules section, define the set of handlers that determine which target inventory resource should handle various protocols. A handler defines which of the user's entitled desktops or applications should handle that specific protocol. For example, if the user opens a Microsoft Word document that has a mailto hypertext link and the user clicks on that link in the document, the handler defines what entitled application should handle the request, such as Microsoft Outlook or Mozilla Thunderbird. In the Rules section, configure the settings. Option Description Scheme Enter the protocol to which this handler applies, such as http, https, mailto, callto, and so on. Resource Type Select whether a desktop or application is to handle the specified protocol. Target Resource Enter the name of the target resource in your Horizon Cloud inventory that you want handling the protocol specified in the Scheme field. Strict Match Select Yes to force an exact match between the name specified in the Target Resource field and the names of the user's available entitled session desktops or remote applications. Select No if you want the system to use its fall-back behavior to support the situation where an end user does not have an assignment for a resource with the exact name specified in the Target Resource field. For example, when the Resource Type is set to Applications and you specify Microsoft Outlook as the target resource to handle the mailto protocol, but the user does not have an assignment for any Microsoft Outlook applications, when Strict Match is set to No, the system will search for a compatible application assigned to that user to handle the mailto protocol, such as Mozilla Thunderbird. To add more handlers, click Add a row and complete the fields. In the Rules section, define the set of handlers that determine which target inventory resource should handle various protocols. A handler defines which of the user's entitled desktops or applications should handle that specific protocol. For example, if the user opens a Microsoft Word document that has a mailto hypertext link and the user clicks on that link in the document, the handler defines what entitled application should handle the request, such as Microsoft Outlook or Mozilla Thunderbird. mailtoIn the Rules section, configure the settings. Option Description Scheme Enter the protocol to which this handler applies, such as http, https, mailto, callto, and so on. Resource Type Select whether a desktop or application is to handle the specified protocol. Target Resource Enter the name of the target resource in your Horizon Cloud inventory that you want handling the protocol specified in the Scheme field. Strict Match Select Yes to force an exact match between the name specified in the Target Resource field and the names of the user's available entitled session desktops or remote applications. Select No if you want the system to use its fall-back behavior to support the situation where an end user does not have an assignment for a resource with the exact name specified in the Target Resource field. For example, when the Resource Type is set to Applications and you specify Microsoft Outlook as the target resource to handle the mailto protocol, but the user does not have an assignment for any Microsoft Outlook applications, when Strict Match is set to No, the system will search for a compatible application assigned to that user to handle the mailto protocol, such as Mozilla Thunderbird. In the Rules section, configure the settings. OptionOptionDescriptionDescriptionSchemeSchemeEnter the protocol to which this handler applies, such as http, https, mailto, callto, and so on. Enter the protocol to which this handler applies, such as http, https, mailto, callto, and so on. httphttpsmailtocalltoResource TypeResource TypeSelect whether a desktop or application is to handle the specified protocol.Select whether a desktop or application is to handle the specified protocol.Target ResourceTarget ResourceEnter the name of the target resource in your Horizon Cloud inventory that you want handling the protocol specified in the Scheme field.Enter the name of the target resource in your Horizon Cloud inventory that you want handling the protocol specified in the Scheme field.Horizon CloudSchemeStrict MatchStrict MatchSelect Yes to force an exact match between the name specified in the Target Resource field and the names of the user's available entitled session desktops or remote applications. Select No if you want the system to use its fall-back behavior to support the situation where an end user does not have an assignment for a resource with the exact name specified in the Target Resource field. For example, when the Resource Type is set to Applications and you specify Microsoft Outlook as the target resource to handle the mailto protocol, but the user does not have an assignment for any Microsoft Outlook applications, when Strict Match is set to No, the system will search for a compatible application assigned to that user to handle the mailto protocol, such as Mozilla Thunderbird. Select Yes to force an exact match between the name specified in the Target Resource field and the names of the user's available entitled session desktops or remote applications. YesTarget ResourceSelect No if you want the system to use its fall-back behavior to support the situation where an end user does not have an assignment for a resource with the exact name specified in the Target Resource field. Target ResourceFor example, when the Resource Type is set to Applications and you specify Microsoft Outlook as the target resource to handle the mailto protocol, but the user does not have an assignment for any Microsoft Outlook applications, when Strict Match is set to No, the system will search for a compatible application assigned to that user to handle the mailto protocol, such as Mozilla Thunderbird. Resource TypeApplicationsmailtoStrict MatchNomailtoTo add more handlers, click Add a row and complete the fields. To add more handlers, click Add a row and complete the fields. Add a rowClick Next to proceed to the next wizard step. Click Next to proceed to the next wizard step. NextSearch for and select the users and groups for this assignment and click Next. Search for and select the users and groups for this assignment and click Next. NextReview the summarized information and click Submit. Review the summarized information and click Submit. SubmitVMware, Inc x 